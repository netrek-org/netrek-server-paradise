# Makefile.in for Paradise server src/common 3.1
# @configure_input@

@SET_MAKE@

bindir=@bindir@
datadir=@datadir@
exec_prefix=@exec_prefix@
libdir=@libdir@
libexecdir=@libexecdir@
mandir=@mandir@
prefix=@prefix@
srcdir=@srcdir@
top_srcdir=@top_srcdir@

AR=ar
ARFLAGS=cruv
RANLIB=@RANLIB@

ZLIB=@ZLIB@

CC=@CC@
CPP=@CPP@

CFLAGS=@CFLAGS@
CPPFLAGS=@CPPFLAGS@ -I../include
DEFS=@AUTH_DEFS@ @DEFS@
LDFLAGS=@LDFLAGS@
LIBS=@LIBS@ $(ZLIB) @AUTH_LIBS@ -lm

INSTALL=@INSTALL@
INSTALL_SCRIPT=@INSTALL_SCRIPT@
INSTALL_DATA=@INSTALL_DATA@

AUTH_PROG=@AUTH_PROG@
AUTH_DEP_LIB=@AUTH_DEP_LIB@
AUTH_DEP_VPATH=@AUTH_DEP_VPATH@

VPATH=../common:../rsa

####

NTSERV_OBJS=cluecheck.o message.o death.o fatudp.o findslot.o \
            gameconf.o getentry.o getname.o input.o main.o missile.o \
	    packets.o parsexbm.o ping.o plasma.o redraw.o socket.o \
	    sockio.o timecheck.o warning.o feature.o

all: ntserv

ntserv: common.a robot.a $(NTSERV_OBJS) $(AUTH_DEP_LIB)
	@if test "x$(AUTH_PROG)" = xkeycomp; then \
	  $(CC) $(CFLAGS) -o ntserv $(NTSERV_OBJS) ../common/common.a ../common/robot.a ../rsa/$(AUTH_DEP_LIB); \
	else \
	  $(CC) $(CFLAGS) -o ntserv $(NTSERV_OBJS) ../common/common.a ../common/robot.a $(LIBS); \
	fi

clean:
	-rm -f ntserv $(NTSERV_OBJS)

install:
	$(INSTALL) ntserv $(bindir)

distclean: clean
	-rm -f Makefile
